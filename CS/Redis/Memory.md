# Redis의 메모리 관리

## Redis의 메모리 관리에서 문제가 생기는 경우
- Redis는 최적화를 위해 내부적으로 jemalloc을 사용한다
- jemalloc은 글로벌 락을 사용하지 않기 때문에 성능성 이점이 있지만, 메모리 풀을 활용하기 때문에 max memory문제가 발생 가능해서 실 사용시 주의해야 한다
    - 실제 사용하는 메모리보다 더 많은 양의 메모리를 할당 받는다
    - jemalloc의 가장 큰 특징은 cache를 위해 free한 메모리에 대해서도 참조를 들고 있어 이중참조가 생겨 문제가 생길 수 있다
        - 데이터의 유실도 문제지만, 가장 큰 문제는 max memory이상을 실제로 사용해 메모리 누수를 넘어서 서비스가 중지 될 수 있다